<!DOCTYPE html>
<html>
<head>
    <title>Chess Game</title>
    <link rel='stylesheet' type='text/css' media='screen' href='./css/main.css'>
    <script type=text/javascript src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src='./js/main.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.8/socket.io.min.js"></script>
	<script src='js/main.js'></script>
    <script src="js/Board.js"></script>
    <script src="js/Piece.js"></script>
    <script src="js/King.js"></script>
    <script src="js/Queen.js"></script>
    <script src="js/Bishop.js"></script>
    <script src="js/Knight.js"></script>
    <script src="js/Rook.js"></script>
    <script src="js/Pawn.js"></script>
	<script type="text/javascript">
	let turn = '{{ turn }}';
    let name = '{{ name }}';
    let numberofplayers = '{{ players }}';
    $(document).ready(function() {
            namespace = '/test';			
            socket = io(namespace);	
            if (turn == 'true'){
                turn = true;
                
                setturn(turn,name);
                swal({	
                icon: 'success',	
                title: 'You are Player 1!',
                text: "you play with white pieces. You cannot play until another player connects, please wait until you see another message!"	
                });
            }else if (turn == 'false'){
                // turn = false;
                myturn = false;
                myname = name
                totalplayers = numberofplayers
                setTimeout(function(){ 
                    socket.emit('updateplayers',{room: '1', 'players': totalplayers})
                    swal({	
                    icon: 'success',	
                    title: 'You are Player 2!',
                    text: "you play with black pieces"	
                    });	 
                }, 2000);
                // socket.emit('updateplayers',{room: '1', 'players': totalplayers})
                // swal({	
                // icon: 'success',	
                // title: 'You are Player 2!',
                // text: "you play with black pieces"	
                // });	
            }
    });
    
    
    function Resign(){
        socket.emit('leave', {room: '1', 'player': myname});
        window.location='/resign';
        
    }		
	
    </script>
<script>

    function myFunction(){
        var myDropdown = document.getElementById("myDropdown");
        if (myDropdown.classList.contains('show')) {
        myDropdown.classList.remove('show');
        }
  }
    
</script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script src="sweetalert2.all.min.js"></script>

</head>
<body onload="load()" style = "background-image:url('https://images.chesscomfiles.com/uploads/game-gifs/90px/sky/neo/0/cc/0/1/bUMwS2d2NVFmSCFUbHQ5SWtzOCFlZzk4cHhXT0h5WkpibDNWZmVYSHlySkJsZjZTZndTcmlyN1pyekk5ZG1Cc2pzT0d6R1FHY3VZSWVkWlFta0h6dkt6cmtyR3I,.gif')">
    
    <header>
        <!-- <div class="navbar">
            onmouseover ='document.getElementById("joinSubmit").click();' 
            <a href="#home" onclick = "Resign()">Regisn</a>
            <div class="dropdown">
                <input type = "button" class="btn" value="Dropdown">
                <div class = "dropdown-item">
                    <a class="right">Difficulty</a>
                    <a class="right">Theme</a>
                </div>
                
            </div>
        </div> -->
        <div class="navbar">
            <a id="disconnect" onclick="Resign()">Resign</a>
            <div class="dropdown">
            <button class="dropbtn" onclick="myFunction()">Dropdown
              <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content" id="myDropdown">
              <a href="#">Link 1</a>
              <a href="#">Link 2</a>
              <a href="#">Link 3</a>
            </div>
            </div> 
          </div>
    </header>
    
    
    <!-- <header>
        <div class="container">
            <div class="row">
                <div class="col-sm">
                    <nav class="navbar navbar-expand-md navbar-dark">
                        <a class="navbar-brand" href="/"><img src="/img/bike-icon.svg" style="max-height: 40px;"></a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>

                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                            <ul class="navbar-nav mr-auto">
                                <li class="nav-item{% if active == 'Home' %} active{% endif %}">
                                    <a class="nav-link" href="/">Home</a>
                                </li>
                                <li class="nav-item{% if active == 'About' %} active{% endif %}">
                                    <a class="nav-link" href="/about">About</a>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        Bikes
                                    </a>
                                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                        <a class="dropdown-item" href="/bikes">Our Bikes</a>
                                        <a class="dropdown-item" href="/rent">Rent a Bike</a>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
        </div>		
	</header> -->
    
    
    <form id="join" method="POST" action="#">
        <input style="visibility: hidden" type="submit" value="Join Room" id="joinSubmit">	
    </form>
	<div>	
<input  type="submit" value="skip turn" id="skipturn" onclick = "skipTurn()">
<input  type="submit" value="Toggle Difficulty" id="togglediff" onclick = "toggleDiff()">
<!-- <input  type="submit" value="skip turn" id="skipturn" onclick = "theme1()">
<input  type="submit" value="skip turn" id="skipturn" onclick = "theme2()">
<input  type="submit" value="skip turn" id="skipturn" onclick = "theme2()"> -->

    <div id="log"></div>
	</div>
   	<div class="Board_div" style = "background-color:white"></div>
    </div>
	
</body>
</html>